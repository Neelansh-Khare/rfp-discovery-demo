/* ===================================
   MOBILE RESPONSIVENESS STYLES
   Aggressively sized down for mobile
   =================================== */

/* ===============================
   BASE MOBILE (< 768px)
   =============================== */
@media (max-width: 768px) {
  /* Prevent horizontal scroll */
  body, html {
    overflow-x: hidden !important;
    width: 100% !important;
    max-width: 100vw !important;
  }

  /* Force proper box sizing */
  * {
    box-sizing: border-box !important;
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
  }

  /* Max width containers - aggressive reduction */
  .max-w-7xl,
  .max-w-4xl,
  .max-w-2xl {
    max-width: 100% !important;
    padding-left: 0.5rem !important;
    padding-right: 0.5rem !important;
  }

  /* Drastically reduce padding */
  .p-6 {
    padding: 0.5rem !important;
  }

  .p-8 {
    padding: 0.75rem !important;
  }

  .px-6 {
    padding-left: 0.5rem !important;
    padding-right: 0.5rem !important;
  }

  .py-6 {
    padding-top: 0.5rem !important;
    padding-bottom: 0.5rem !important;
  }

  /* Card padding - much smaller */
  [class*="CardContent"] {
    padding: 0.75rem !important;
  }

  /* Spacing adjustments - smaller gaps */
  .space-y-8 > * + * {
    margin-top: 1rem !important;
  }

  .space-y-6 > * + * {
    margin-top: 0.75rem !important;
  }

  .space-y-4 > * + * {
    margin-top: 0.5rem !important;
  }

  .space-y-3 > * + * {
    margin-top: 0.375rem !important;
  }

  .gap-8 {
    gap: 1rem !important;
  }

  .gap-6 {
    gap: 0.75rem !important;
  }

  .gap-4 {
    gap: 0.5rem !important;
  }

  .gap-3 {
    gap: 0.375rem !important;
  }

  .gap-2 {
    gap: 0.25rem !important;
  }

  /* Typography scaling - much smaller */
  .text-3xl {
    font-size: 1.125rem !important;
    line-height: 1.5rem !important;
  }

  .text-2xl {
    font-size: 1rem !important;
    line-height: 1.375rem !important;
  }

  .text-xl {
    font-size: 0.9375rem !important;
    line-height: 1.25rem !important;
  }

  .text-lg {
    font-size: 0.875rem !important;
    line-height: 1.125rem !important;
  }

  .text-base {
    font-size: 0.8125rem !important;
    line-height: 1rem !important;
  }

  .text-sm {
    font-size: 0.75rem !important;
    line-height: 0.9375rem !important;
  }

  .text-xs {
    font-size: 0.625rem !important;
    line-height: 0.75rem !important;
  }

  /* Button sizing - much smaller */
  button {
    font-size: 0.75rem !important;
    padding: 0.375rem 0.5rem !important;
    min-height: 32px !important;
    line-height: 1 !important;
  }

  button.text-xs {
    font-size: 0.625rem !important;
    padding: 0.25rem 0.375rem !important;
  }

  .h-7 {
    height: 1.75rem !important;
  }

  .h-8 {
    height: 2rem !important;
  }

  /* Button padding overrides */
  .px-3 {
    padding-left: 0.375rem !important;
    padding-right: 0.375rem !important;
  }

  .px-2 {
    padding-left: 0.25rem !important;
    padding-right: 0.25rem !important;
  }

  .py-2 {
    padding-top: 0.25rem !important;
    padding-bottom: 0.25rem !important;
  }

  /* Grid adjustments - single column */
  .grid.grid-cols-2,
  .grid.grid-cols-3,
  .grid.grid-cols-4,
  .md\\:grid-cols-4 {
    grid-template-columns: 1fr !important;
  }

  .lg\\:grid-cols-3 {
    grid-template-columns: 1fr !important;
  }

  /* Opportunity card details grid - stack vertically */
  .grid.grid-cols-2.md\\:grid-cols-4 {
    grid-template-columns: 1fr !important;
    gap: 0.375rem !important;
  }

  /* Badge sizing - smaller */
  .text-xs[class*="Badge"],
  [class*="badge"] {
    font-size: 0.625rem !important;
    padding: 0.125rem 0.375rem !important;
  }

  /* Icon sizing - smaller */
  .w-3, .h-3 {
    width: 0.625rem !important;
    height: 0.625rem !important;
  }

  .w-4, .h-4 {
    width: 0.75rem !important;
    height: 0.75rem !important;
  }

  .w-5, .h-5 {
    width: 0.875rem !important;
    height: 0.875rem !important;
  }

  .w-3\.5, .h-3\.5 {
    width: 0.6875rem !important;
    height: 0.6875rem !important;
  }

  /* Card header - prevent text overlap */
  .flex.justify-between.items-start {
    flex-direction: column !important;
    align-items: flex-start !important;
    gap: 0.5rem !important;
  }

  /* Fix for opportunity card buttons at top */
  .flex.items-center.gap-2:has(button) {
    flex-wrap: wrap !important;
    gap: 0.25rem !important;
  }

  /* Flex containers - prevent overflow */
  .flex {
    min-width: 0 !important;
    flex-wrap: wrap !important;
  }

  .flex-1 {
    min-width: 0 !important;
    flex: 1 1 0% !important;
  }

  /* Text truncation fix - prevent single letter per line */
  .min-w-0 {
    min-width: 0 !important;
  }

  h1, h2, h3, h4, h5, h6, p, span, div {
    max-width: 100% !important;
    overflow-wrap: break-word !important;
    word-break: break-word !important;
    hyphens: auto !important;
  }

  /* Dialog/Modal adjustments */
  [role="dialog"] {
    max-width: 92vw !important;
    max-height: 85vh !important;
    margin: 0.5rem !important;
    padding: 0.75rem !important;
  }

  [role="dialog"] .overflow-y-auto {
    max-height: 60vh !important;
  }

  /* Filter sidebar - full screen */
  .w-80 {
    width: 100vw !important;
    max-width: 100vw !important;
  }

  /* Scrollable areas - reduced height */
  .max-h-\\[600px\\] {
    max-height: 350px !important;
  }

  .max-h-64 {
    max-height: 10rem !important;
  }

  .max-h-48 {
    max-height: 8rem !important;
  }

  /* Navigation - smaller */
  nav {
    padding: 0.5rem !important;
  }

  nav .text-lg {
    font-size: 0.875rem !important;
  }

  /* Input fields - proper sizing to prevent zoom */
  input, textarea, select {
    font-size: 16px !important;
    padding: 0.5rem !important;
  }

  /* Search bar */
  input[type="text"]:not([type="date"]):not([type="number"]) {
    font-size: 0.875rem !important;
  }

  /* Table responsiveness */
  table {
    font-size: 0.75rem !important;
  }

  /* Opportunity card - bottom buttons */
  .flex.justify-between.items-end {
    flex-direction: column !important;
    align-items: flex-start !important;
    gap: 0.5rem !important;
    width: 100% !important;
  }

  .flex.justify-between.items-end > * {
    width: 100% !important;
  }

  /* Ensure buttons in card footer are properly sized */
  .flex.items-center.gap-2:has(button[title*="Like"]),
  .flex.items-center.gap-2:has(button[title*="Dislike"]) {
    justify-content: flex-end !important;
    width: 100% !important;
  }

  /* Stats cards - prevent overflow */
  [class*="DashboardStats"] .grid > div {
    min-width: 0 !important;
    padding: 0.75rem !important;
  }

  /* Profile page header */
  .flex.justify-between.items-center:has(h1) {
    flex-direction: column !important;
    align-items: flex-start !important;
    gap: 0.75rem !important;
    width: 100% !important;
  }

  /* Profile save button container */
  .flex.flex-col.items-end {
    width: 100% !important;
    align-items: flex-start !important;
  }

  /* Make sure long text in titles wraps properly */
  .font-bold.text-lg,
  .font-bold.text-xl,
  .font-bold.text-2xl {
    word-break: break-word !important;
    overflow-wrap: break-word !important;
    hyphens: auto !important;
    max-width: 100% !important;
  }

  /* Organization name in cards */
  .flex.items-center.gap-2 > span {
    font-size: 0.75rem !important;
    max-width: 100% !important;
    overflow-wrap: break-word !important;
  }

  /* Badge groups - prevent overflow */
  .flex.flex-wrap.gap-2 {
    gap: 0.25rem !important;
  }

  /* Min width for text containers */
  .flex-1.min-w-0 {
    min-width: 0 !important;
    max-width: 100% !important;
  }
}

/* ===============================
   SMALL MOBILE (< 480px)
   Even more aggressive sizing
   =============================== */
@media (max-width: 480px) {
  /* Further reduce padding */
  .p-6, .p-4 {
    padding: 0.375rem !important;
  }

  .px-6 {
    padding-left: 0.375rem !important;
    padding-right: 0.375rem !important;
  }

  /* Even smaller typography */
  .text-3xl {
    font-size: 1rem !important;
    line-height: 1.375rem !important;
  }

  .text-2xl {
    font-size: 0.9375rem !important;
    line-height: 1.25rem !important;
  }

  .text-xl {
    font-size: 0.875rem !important;
    line-height: 1.125rem !important;
  }

  .text-lg {
    font-size: 0.8125rem !important;
    line-height: 1rem !important;
  }

  .text-base {
    font-size: 0.75rem !important;
    line-height: 0.9375rem !important;
  }

  .text-sm {
    font-size: 0.6875rem !important;
    line-height: 0.875rem !important;
  }

  .text-xs {
    font-size: 0.5625rem !important;
    line-height: 0.6875rem !important;
  }

  /* Tiny buttons */
  button {
    font-size: 0.6875rem !important;
    padding: 0.25rem 0.375rem !important;
    min-height: 28px !important;
  }

  .h-7, .h-8 {
    height: 1.75rem !important;
  }

  /* Tiny icons */
  .w-3, .h-3 {
    width: 0.5rem !important;
    height: 0.5rem !important;
  }

  .w-4, .h-4 {
    width: 0.625rem !important;
    height: 0.625rem !important;
  }

  .w-5, .h-5 {
    width: 0.75rem !important;
    height: 0.75rem !important;
  }

  /* Tiny badges */
  [class*="Badge"],
  [class*="badge"] {
    font-size: 0.5625rem !important;
    padding: 0.0625rem 0.25rem !important;
  }

  /* Compact cards */
  [class*="CardContent"] {
    padding: 0.5rem !important;
  }

  /* Reduce gaps */
  .gap-4 {
    gap: 0.375rem !important;
  }

  .gap-3 {
    gap: 0.25rem !important;
  }

  .gap-2 {
    gap: 0.1875rem !important;
  }

  /* Navigation */
  nav {
    padding: 0.375rem !important;
  }

  /* Dialog */
  [role="dialog"] {
    max-width: 95vw !important;
    margin: 0.25rem !important;
    padding: 0.5rem !important;
  }

  /* Scrollable heights */
  .max-h-\\[600px\\] {
    max-height: 300px !important;
  }

  .max-h-64 {
    max-height: 8rem !important;
  }

  .max-h-48 {
    max-height: 6rem !important;
  }
}

/* ===============================
   TABLET (768px - 1024px)
   =============================== */
@media (min-width: 768px) and (max-width: 1024px) {
  .max-w-7xl,
  .max-w-4xl {
    max-width: 100% !important;
    padding: 0 1rem !important;
  }

  /* Adjust grid for tablet */
  .grid.grid-cols-4,
  .md\\:grid-cols-4 {
    grid-template-columns: repeat(2, 1fr) !important;
  }

  .lg\\:grid-cols-3 {
    grid-template-columns: repeat(2, 1fr) !important;
  }
}

/* ===============================
   LANDSCAPE MOBILE
   =============================== */
@media (max-width: 896px) and (orientation: landscape) {
  /* Optimize vertical space */
  .p-6 {
    padding: 0.5rem !important;
  }

  .space-y-8 > * + * {
    margin-top: 0.75rem !important;
  }

  .space-y-6 > * + * {
    margin-top: 0.5rem !important;
  }

  /* Compact header */
  header, nav {
    padding: 0.375rem 0.5rem !important;
  }

  /* Smaller text */
  .text-3xl {
    font-size: 1rem !important;
  }

  .text-2xl {
    font-size: 0.9375rem !important;
  }

  /* Reduced scrollable height */
  .max-h-\\[600px\\] {
    max-height: 250px !important;
  }
}

/* ===============================
   PREVENT COMMON MOBILE ISSUES
   =============================== */
@media (max-width: 768px) {
  /* Prevent horizontal scroll completely */
  body {
    overflow-x: hidden !important;
    position: relative !important;
  }

  /* Fix for any overflowing elements */
  * {
    max-width: 100vw !important;
  }

  /* Images */
  img {
    max-width: 100% !important;
    height: auto !important;
  }

  /* Sticky navigation */
  nav {
    position: sticky !important;
    top: 0 !important;
    z-index: 50 !important;
    background: white !important;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1) !important;
  }

  /* Modal centering */
  [role="dialog"] {
    position: fixed !important;
    top: 50% !important;
    left: 50% !important;
    transform: translate(-50%, -50%) !important;
  }

  /* Touch targets - smaller but still accessible */
  a, button {
    min-height: 32px !important;
    min-width: 32px !important;
  }

  /* Prevent text selection on buttons */
  button {
    -webkit-user-select: none !important;
    user-select: none !important;
  }

  /* Better tap highlighting */
  * {
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0.05) !important;
  }

  /* Smooth scrolling */
  * {
    -webkit-overflow-scrolling: touch !important;
  }
}

/* ===============================
   SPECIFIC COMPONENT FIXES
   =============================== */
@media (max-width: 768px) {
  /* Opportunity Card title - prevent overflow */
  h3.font-bold.text-lg {
    font-size: 0.875rem !important;
    line-height: 1.125rem !important;
    max-width: 100% !important;
    word-break: break-word !important;
  }

  /* Card content wrapper */
  .space-y-4:has(.flex.justify-between.items-start) {
    width: 100% !important;
  }

  /* Dashboard stats grid */
  [class*="DashboardStats"] {
    grid-template-columns: 1fr !important;
  }

  /* Filter panel - full screen overlay */
  .flex.h-screen.bg-slate-50 > .w-80 {
    position: fixed !important;
    left: 0 !important;
    top: 0 !important;
    height: 100vh !important;
    width: 100vw !important;
    z-index: 100 !important;
  }

  /* Search bar */
  .relative.flex-1:has(input[placeholder*="Search"]) {
    width: 100% !important;
  }

  /* Action buttons group */
  .flex.gap-3:has(button[class*="flex-1"]) {
    flex-direction: column !important;
  }

  .flex.gap-3:has(button[class*="flex-1"]) > button {
    width: 100% !important;
    flex: none !important;
  }

  /* Profile collapsible headers */
  [class*="CardHeader"].cursor-pointer {
    padding: 0.75rem !important;
  }

  /* Badge in opportunity cards */
  .flex.items-center.gap-2:has([class*="Badge"]) {
    flex-wrap: wrap !important;
  }
}
